{"version":3,"sources":["../../src/datasource/metric_def.js"],"names":["toBitsPerSecond","value","row","i_duration","toPerSecondRate","totalToAvgPerSecond","rangeSeconds","totalToBitsPerSecond","metricList","text","field","unitList","gfUnit","gfAxisLabel","transform","tableFields","unit","gfAxislabel"],"mappings":"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","file":"metric_def.js","sourcesContent":["/*jshint strict:false */\n\nvar metricList = [\n  {text: 'Traffic', value: 'Traffic', field: 'traffic'},\n  {text: 'Source Country', value: 'Geography_src', field: 'src_geo'},\n  {text: 'Source Geo Region', value: 'src_geo_region', field: 'src_geo_region'},\n  {text: 'Source Geo City', value: 'src_geo_city', field: 'src_geo_city'},\n  {text: 'Source As Number', value: 'AS_src', field: 'src_as'},\n  {text: 'Source Interface', value: 'InterfaceID_src', field: 'input_port'},\n  {text: 'Source Port', value: 'Port_src', field: 'l4_src_port'},\n  {text: 'Source VLAN', value: 'VLAN_src', field: 'vlan_in'},\n  {text: 'Source IP/CIDR', value: 'IP_src', field: 'ipv4_src_addr'},\n  {text: 'Source Route Prefix/LEN', value: 'src_route_prefix_len', field: 'src_route_prefix_len'},\n  {text: 'Source Route LEN', value: 'src_route_length', field: 'src_route_length'},\n  {text: 'Source BGP Community', value: 'src_bgp_community', field: 'src_bgp_community'},\n  {text: 'Source BGP AS_Path', value: 'src_bgp_aspath', field: 'src_bgp_aspath'},\n  {text: 'Source BGP Next Hop IP/CIDR', value: 'src_nexthop_ip', field: 'ipv4_src_next_hop'},\n  {text: 'Source Next Hop AS Number', value: 'src_nexthop_asn', field: 'src_nexthop_as'},\n  {text: 'Source 2nd BGP_HOP AS Number', value: 'src_second_asn', field: 'src_second_asn'},\n  {text: 'Source 3nd BGP_HOP AS Number', value: 'src_third_asn', field: 'src_third_asn'},\n  {text: 'Source Protocol:IP Port', value: 'src_proto_port', field: 'src_proto_port'},\n  {text: 'Destination Country', value: 'Geography_dst', field: 'dst_geo'},\n  {text: 'Destination Region', value: 'dst_geo_region', field: 'dst_geo_region'},\n  {text: 'Destination City', value: 'dst_geo_city', field: 'dst_geo_city'},\n  {text: 'Destination As Number', value: 'AS_dst', field: 'dst_as'},\n  {text: 'Destination Interface', value: 'InterfaceID_dst', field: 'output_port'},\n  {text: 'Destination Port', value: 'Port_dst', field: 'l4_dst_port'},\n  {text: 'Destination VLAN', value: 'VLAN_dst', field: 'vlan_out'},\n  {text: 'Destination IP/CIDR', value: 'IP_dst', field: 'ipv4_dst_addr'},\n  {text: 'Destination Route Prefix/LEN', value: 'dst_route_prefix_len', field: 'dst_route_prefix_len'},\n  {text: 'Destination Route LEN', value: 'dst_route_prefix_len', field: 'dst_route_length'},\n  {text: 'Destination BGP Community', value: 'dst_bgp_community', field: 'dst_bgp_community'},\n  {text: 'Destination BGP AS_Path', value: 'dst_bgp_aspath', field: 'dst_bgp_aspath'},\n  {text: 'Destination BGP Next Hop IP/CIDR', value: 'dst_nexthop_ip', field: 'ipv4_dst_next_hop'},\n  {text: 'Destination Next Hop AS Number', value: 'dst_nexthop_asn', field: 'dst_nexthop_as'},\n  {text: 'Destination 2nd BGP_HOP AS Number', value: 'dst_second_asn', field: 'dst_second_asn'},\n  {text: 'Destination 3nd BGP_HOP AS Number', value: 'dst_third_asn', field: 'dst_third_asn'},\n  {text: 'Destination Protocol:IP Port', value: 'dst_proto_port', field: 'dst_proto_port'},\n  {text: 'Full TOS', value: 'TOS', field: 'tos'},\n  {text: 'Full Protocol', value: 'Proto', field: 'protocl'},\n];\n\nfunction toBitsPerSecond(value, row) {\n  return (value * 8) / row.i_duration;\n}\n\nfunction toPerSecondRate(value, row) {\n  return value / row.i_duration;\n}\n\nfunction totalToAvgPerSecond(value, row, rangeSeconds) {\n  return value / rangeSeconds;\n}\n\nfunction totalToBitsPerSecond(value, row, rangeSeconds) {\n  return (value * 8) / rangeSeconds;\n}\n\nvar unitList = [\n  {\n    text: 'Bits/s',\n    value: 'bytes',\n    field: 'f_sum_both_bytes',\n    gfUnit: \"bps\",\n    gfAxisLabel: 'Bits/s',\n    transform: toBitsPerSecond,\n    tableFields: [\n      {text: 'Max', field: 'max_both', unit: 'bps'},\n      {text: '95th Percentile', field: 'p95th_both', unit: 'bps'},\n      {text: 'Avg', field: 'f_sum_both_bytes', unit: 'bps', transform: totalToBitsPerSecond},\n    ]\n  },\n  {\n    text: 'Packets/s',\n    value: 'packets',\n    field: 'f_sum_both_pkts',\n    gfUnit: \"pps\",\n    gfAxislabel: 'Packets/s',\n    transform: toPerSecondRate,\n    tableFields: [\n      {text: 'Max', field: 'max_both', unit: 'pps'},\n      {text: '95th Percentile', field: 'p95th_both', unit: 'pps'},\n      {text: 'Avg', field: 'f_sum_both_pkts', unit: 'pps', transform: totalToAvgPerSecond},\n    ]\n  },\n  {\n    text: 'Unique Src IPs',\n    value: 'unique_src_ip',\n    field: 'uniquesrcips',\n    gfUnit: \"none\",\n    gfAxisLabel: \"Unique Src IPs\",\n    tableFields: [\n      {text: 'Max IPs per device', field: 'max_unique_src_ips_per_device', unit: 'none'},\n      {text: 'p95th mbps', field: 'p95th_bps', unit: 'bps'},\n      {text: 'p95th pps', field: 'p95th_pps', unit: 'pps'},\n    ]\n  },\n  {\n    text: 'Unique Dst IPs',\n    value: 'unique_dst_ip',\n    field: 'uniquesrcips',\n    gfUnit: \"short\",\n    gfAxisLabel: \"Unique Dst IPs\",\n    tableFields: [\n      {text: 'Max IPs per device', field: 'max_unique_dst_ips_per_device', unit: 'none'},\n      {text: 'p95th mbps', field: 'p95th_bps', unit: 'bps'},\n      {text: 'p95th pps', field: 'p95th_pps', unit: 'pps'},\n   ]\n  },\n];\n\nexport {metricList, unitList};\n\n"]}