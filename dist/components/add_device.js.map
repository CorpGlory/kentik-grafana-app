{"version":3,"sources":["../../src/components/add_device.js"],"names":[],"mappings":";;;;;;;;;;;;;AAAO;;;;;;;;;;;;;;;;;;;;;AAEH,iBAAW;AACb,qBAAa,EAAb;AACA,cAAM,QAAN;AACA,4BAAoB,EAApB;AACA,mBAAW,OAAX;AACA,mBAAW,CAAX;AACA,mBAAW,EAAX;AACA,uBAAe,KAAf;AACA,mBAAW,EAAX;AACA,wBAAgB,EAAhB;;;+BAGI;;;AAEJ,iBAFI,aAEJ,CAAY,MAAZ,EAAoB,SAApB,EAA+B,SAA/B,EAA0C,UAA1C,EAAsD;gCAFlD,eAEkD;;AACpD,eAAK,UAAL,GAAkB,UAAlB,CADoD;AAEpD,eAAK,SAAL,GAAiB,SAAjB,CAFoD;AAGpD,eAAK,MAAL,GAAc,QAAQ,IAAR,CAAa,QAAb,CAAd,CAHoD;AAIpD,eAAK,SAAL,GAAiB,CAAC,EAAC,IAAI,EAAJ,EAAF,CAAjB,CAJoD;SAAtD;;qBAFI;;kCASI;AACN,iBAAK,SAAL,CAAe,IAAf,CAAoB,EAAC,IAAI,EAAJ,EAArB,EADM;;;;mCAIC,OAAO;AACf,iBAAK,SAAL,CAAe,MAAf,CAAsB,KAAtB,EAA6B,CAA7B,EADe;;;;sCAIJ;AACX,gBAAI,OAAO,IAAP,CADO;AAEX,gBAAI,MAAM,EAAN,CAFO;AAGX,cAAE,OAAF,CAAU,KAAK,SAAL,EAAgB,UAAS,EAAT,EAAa;AACtC,kBAAI,IAAJ,CAAS,GAAG,EAAH,CAAT,CADsC;aAAb,CAA1B,CAHW;AAMX,iBAAK,MAAL,CAAY,SAAZ,GAAwB,IAAI,IAAJ,EAAxB,CANW;AAOX,iBAAK,UAAL,CAAgB,IAAhB,CAAqB,gDAArB,EAAuE,KAAK,MAAL,CAAvE,CAAoF,IAApF,CAAyF,YAAM;AAC9F,mBAAK,SAAL,CAAe,GAAf,CAAmB,sCAAnB,EAD8F;aAAN,CAAzF,CAPW;;;;eAjBR;;;AA6BN,oBAAc,WAAd,GAA4B,4BAA5B;;+BAEQ","file":"add_device.js","sourcesContent":["import _ from 'lodash';\n\nvar defaults = {\n  device_name: '',\n  type: 'router',\n  device_description: '',\n  flow_type: 'sflow',\n  flow_rate: 5,\n  other_ips: '',\n  minimize_snmp: false,\n  device_ip: '',\n  snmp_community: ''\n};\n\nclass AddDeviceCtrl {\n  /** @ngInject */\n  constructor($scope, $injector, $location, backendSrv) {\n    this.backendSrv = backendSrv;\n    this.$location = $location\n    this.device = angular.copy(defaults);\n    this.other_ips = [{ip: ''}];\n   }\n\n  addIP() {\n   \tthis.other_ips.push({ip: ''});\n  }\n\n  removeIP(index) {\n  \tthis.other_ips.splice(index, 1);\n  }\n\n  addDevice() {\n  \tvar self = this;\n  \tvar ips = [];\n  \t_.forEach(this.other_ips, function(ip) {\n  \t\tips.push(ip.ip);\n  \t});\n  \tthis.device.other_ips = ips.join();\n  \tthis.backendSrv.post(\"/api/plugin-proxy/kentik-app/api/device/create\", this.device).then(() => {\n  \t\tself.$location.url(\"/plugins/kentik-app/page/device-list\");\n   \t});\n  }\n}\nAddDeviceCtrl.templateUrl = 'components/add_device.html';\n\nexport {AddDeviceCtrl}\n"]}