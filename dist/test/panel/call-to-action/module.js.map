{"version":3,"sources":["../../../../src/panel/call-to-action/module.js"],"names":["dark","light","panelDefaults","fullscreen","CallToActiontCtrl","$scope","$injector","backendSrv","deviceStatus","AllDone","getTaskStatus","defaults","panel","getDevices","then","get","resp","devices","length","templateUrl","PanelCtrl"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;;;;;;;AAGA,wBAAc;AACZA,QAAM,wCADM;AAEZC,SAAO;AAFK,CAAd;;AAKA,IAAIC,gBAAgB;AAClBC,cAAY;AADM,CAApB;;IAIMC,iB;;;AAEJ;AACA,6BAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,UAA/B,EAA2C;AAAA;;AAAA,sIACnCF,MADmC,EAC3BC,SAD2B;;AAEzC,UAAKC,UAAL,GAAkBA,UAAlB;AACA,UAAKC,YAAL,GAAoB,EAApB;AACA,UAAKC,OAAL,GAAe,KAAf;AACA,UAAKC,aAAL;AACA,qBAAEC,QAAF,CAAW,MAAKC,KAAhB,EAAuBV,aAAvB;AANyC;AAO1C;;;;oCAEe;AAAA;;AACd,WAAKW,UAAL,GAAkBC,IAAlB,CAAuB,YAAM;AAC3B,YAAI,OAAKN,YAAL,KAAsB,YAA1B,EAAwC;AACtC,iBAAKC,OAAL,GAAe,IAAf;AACD,SAFD,MAEO;AACL,iBAAKA,OAAL,GAAe,KAAf;AACD;AACF,OAND;AAOD;;;iCAEY;AAAA;;AACX,aAAO,KAAKF,UAAL,CAAgBQ,GAAhB,CAAoB,6CAApB,EACJD,IADI,CACC,gBAAQ;AACZ,YAAIE,KAAKC,OAAL,CAAaC,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,iBAAKV,YAAL,GAAoB,YAApB;AACD,SAFD,MAEO;AACL,iBAAKA,YAAL,GAAoB,WAApB;AACD;AACF,OAPI,CAAP;AAQD;;;8BAES;AACR,WAAKE,aAAL;AACD;;;;;;AAGHN,kBAAkBe,WAAlB,GAAgC,kCAAhC;QAC6BC,S,GAArBhB,iB","file":"module.js","sourcesContent":["import _ from 'lodash';\nimport {PanelCtrl} from 'app/plugins/sdk';\nimport {loadPluginCss} from 'app/plugins/sdk';\n\nloadPluginCss({\n  dark: 'plugins/kentik-app/css/kentik.dark.css',\n  light: 'plugins/kentik-app/css/kentik.light.css'\n});\n\nvar panelDefaults = {\n  fullscreen: true\n};\n\nclass CallToActiontCtrl extends PanelCtrl {\n\n  /** @ngInject */\n  constructor($scope, $injector, backendSrv) {\n    super($scope, $injector);\n    this.backendSrv = backendSrv;\n    this.deviceStatus = '';\n    this.AllDone = false;\n    this.getTaskStatus();\n    _.defaults(this.panel, panelDefaults);\n  }\n\n  getTaskStatus() {\n    this.getDevices().then(() => {\n      if (this.deviceStatus === 'hasDevices') {\n        this.AllDone = true;\n      } else {\n        this.AllDone = false;\n      }\n    });\n  }\n\n  getDevices() {\n    return this.backendSrv.get(\"/api/plugin-proxy/kentik-app/api/v5/devices\")\n      .then(resp => {\n        if (resp.devices.length > 0) {\n          this.deviceStatus = 'hasDevices';\n        } else {\n          this.deviceStatus = 'noDevices';\n        }\n      });\n  }\n\n  refresh() {\n    this.getTaskStatus();\n  }\n}\n\nCallToActiontCtrl.templateUrl = 'panel/call-to-action/module.html';\nexport {CallToActiontCtrl as PanelCtrl};\n"]}