{"version":3,"sources":["../../../src/panel/device-list/module.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO;;AACC;AACA;;;;;;;;;;;;;;;;;;;;;AAER,oBAAc;AACZ,cAAM,wCAAN;AACA,eAAO,yCAAP;OAFF;;AAKI,sBAAgB;AAClB,oBAAY,IAAZ;;;2BAGI;;;;;AAGJ,iBAHI,cAGJ,CAAY,MAAZ,EAAoB,SAApB,EAA+B,SAA/B,EAA0C,UAA1C,EAAsD;gCAHlD,gBAGkD;;6EAHlD,2BAII,QAAQ,YADsC;;AAEpD,gBAAK,SAAL,GAAiB,SAAjB,CAFoD;AAGpD,gBAAK,UAAL,GAAkB,UAAlB,CAHoD;AAIpD,gBAAK,OAAL,GAAe,EAAf,CAJoD;AAKpD,gBAAK,SAAL,GAAiB,KAAjB,CALoD;AAMpD,gBAAK,UAAL,GANoD;AAOpD,YAAE,QAAF,CAAW,MAAK,KAAL,EAAY,aAAvB,EAPoD;;SAAtD;;qBAHI;;uCAaS;AACX,gBAAI,OAAO,IAAP,CADO;AAEX,iBAAK,UAAL,CAAgB,GAAhB,CAAoB,iDAApB,EAAuE,IAAvE,CAA4E,UAAS,IAAT,EAAe;AACzF,mBAAK,OAAL,GAAe,KAAK,MAAL,CAD0E;AAEzF,mBAAK,SAAL,GAAiB,IAAjB,CAFyF;aAAf,CAA5E,CAFW;;;;oCAQH;AACR,iBAAK,UAAL,GADQ;;;;wCAII,QAAQ;AACpB,iBAAK,SAAL,CAAe,IAAf,CAAoB,kCAApB,EAAwD,MAAxD,CAA+D,EAAC,cAAc,OAAO,WAAP,EAA9E,EADoB;;;;2CAIL,QAAQ;AACvB,iBAAK,SAAL,CAAe,GAAf,CAAmB,oDAAkD,OAAO,EAAP,CAArE,CADuB;;;;eA7BrB;QAAuB;;AAkC7B,qBAAe,WAAf,GAA6B,uDAA7B;;2BAEQ","file":"module.js","sourcesContent":["import _ from 'lodash';\nimport {PanelCtrl} from 'app/plugins/sdk';\nimport {loadPluginCss} from 'app/plugins/sdk';\n\nloadPluginCss({\n  dark: 'plugins/kentik-app/css/kentik.dark.css',\n  light: 'plugins/kentik-app/css/kentik.light.css'\n});\n\nvar panelDefaults = {\n  fullscreen: true\n};\n\nclass DeviceListCtrl extends PanelCtrl {\n\n  /** @ngInject */\n  constructor($scope, $injector, $location, backendSrv) {\n    super($scope, $injector);\n    this.$location = $location;\n    this.backendSrv = backendSrv;\n    this.devices = [];\n    this.pageReady = false;\n    this.getDevices();\n    _.defaults(this.panel, panelDefaults);\n  }\n\n  getDevices() {\n    var self = this;\n    this.backendSrv.get(\"/api/plugin-proxy/kentik-app/api/v1/device/list\").then(function(resp) {\n      self.devices = resp.device;\n      self.pageReady = true;\n    });\n  }\n\n  refresh() {\n    this.getDevices();\n  }\n\n  gotoDashboard(device) {\n    this.$location.path(\"/dashboard/db/kentik-top-talkers\").search({\"var-device\": device.device_name});\n  }\n\n  gotoDeviceDetail(device) {\n    this.$location.url(\"/plugins/kentik-app/page/device-details?device=\"+device.id);\n  }\n}\n\nDeviceListCtrl.templateUrl = 'public/plugins/kentik-app/components/device_list.html';\n\nexport {DeviceListCtrl as PanelCtrl};\n"]}