{"version":3,"sources":["../../../src/panel/call-to-action/module.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO;;AACC;AACA;;;;;;;;;;;;;;;;;;;;;AAER,oBAAc;AACZ,cAAM,wCAAN;AACA,eAAO,yCAAP;OAFF;;AAKI,sBAAgB;AAClB,oBAAY,IAAZ;;;2BAGI;;;;;AAGJ,iBAHI,iBAGJ,CAAY,MAAZ,EAAoB,SAApB,EAA+B,UAA/B,EAA2C;gCAHvC,mBAGuC;;6EAHvC,8BAII,QAAQ,YAD2B;;AAEzC,gBAAK,UAAL,GAAkB,UAAlB,CAFyC;AAGzC,gBAAK,YAAL,GAAoB,EAApB,CAHyC;AAIzC,gBAAK,OAAL,GAAe,KAAf,CAJyC;AAKzC,gBAAK,aAAL,GALyC;AAMzC,YAAE,QAAF,CAAW,MAAK,KAAL,EAAY,aAAvB,EANyC;;SAA3C;;qBAHI;;0CAYY;;;AACd,iBAAK,UAAL,GAAkB,IAAlB,CAAuB,YAAM;AAC3B,kBAAI,OAAK,YAAL,KAAsB,YAAtB,EAAoC;AACtC,uBAAK,OAAL,GAAe,IAAf,CADsC;eAAxC,MAEO;AACL,uBAAK,OAAL,GAAe,KAAf,CADK;eAFP;aADqB,CAAvB,CADc;;;;uCAUH;;;AACX,mBAAO,KAAK,UAAL,CAAgB,GAAhB,CAAoB,iDAApB,EAAuE,IAAvE,CAA4E,gBAAQ;AACzF,kBAAI,KAAK,MAAL,CAAY,MAAZ,GAAqB,CAArB,EAAwB;AAC1B,uBAAK,YAAL,GAAoB,YAApB,CAD0B;eAA5B,MAEO;AACL,uBAAK,YAAL,GAAoB,WAApB,CADK;eAFP;aADiF,CAAnF,CADW;;;;oCAUH;AACR,iBAAK,aAAL,GADQ;;;;eAhCN;QAA0B;;AAqChC,wBAAkB,WAAlB,GAAgC,kCAAhC;;2BACQ","file":"module.js","sourcesContent":["import _ from 'lodash';\nimport {PanelCtrl} from 'app/plugins/sdk';\nimport {loadPluginCss} from 'app/plugins/sdk';\n\nloadPluginCss({\n  dark: 'plugins/kentik-app/css/kentik.dark.css',\n  light: 'plugins/kentik-app/css/kentik.light.css'\n});\n\nvar panelDefaults = {\n  fullscreen: true\n};\n\nclass CallToActiontCtrl extends PanelCtrl {\n\n  /** @ngInject */\n  constructor($scope, $injector, backendSrv) {\n    super($scope, $injector);\n    this.backendSrv = backendSrv;\n    this.deviceStatus = '';\n    this.AllDone = false;\n    this.getTaskStatus();\n    _.defaults(this.panel, panelDefaults);\n  }\n\n  getTaskStatus() {\n    this.getDevices().then(() => {\n      if (this.deviceStatus === 'hasDevices') {\n        this.AllDone = true;\n      } else {\n        this.AllDone = false;\n      }\n    });\n  }\n\n  getDevices() {\n    return this.backendSrv.get(\"/api/plugin-proxy/kentik-app/api/v1/device/list\").then(resp => {\n      if (resp.device.length > 0) {\n        this.deviceStatus = 'hasDevices';\n      } else {\n        this.deviceStatus = 'noDevices';\n      }\n    });\n  }\n\n  refresh() {\n    this.getTaskStatus();\n  }\n}\n\nCallToActiontCtrl.templateUrl = 'panel/call-to-action/module.html';\nexport {CallToActiontCtrl as PanelCtrl};\n"]}